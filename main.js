(()=>{"use strict";!function(){const e=document.getElementById("content");e.appendChild(function(){const e=document.createElement("div");e.classList.add("sidebar");const t=document.createElement("h2");t.textContent="Projects";const n=document.createElement("ul");n.classList.add("task-lists");const a=document.createElement("form");a.action="",a.setAttribute("data-new-list-form",""),a.classList.add("sidebarForm");const d=document.createElement("input");d.type="text",d.setAttribute("data-new-list-input",""),d.classList.add("newlist"),d.placeholder="new list name",d.ariaLabel="new project name";const c=document.createElement("button");return c.classList.add("btnlist"),c.textContent="+",c.ariaLabel="create new project",a.appendChild(d),a.appendChild(c),e.appendChild(t),e.appendChild(n),e.appendChild(a),e}()),e.appendChild(function(){const e=document.createElement("div");e.classList.add("todo-list");const t=document.createElement("div");t.classList.add("todohead");const n=document.createElement("h2");n.classList.add("list-titte"),n.textContent="Sample 1",t.appendChild(n),e.appendChild(t);const a=document.createElement("div");a.classList.add("todo-body");const d=document.createElement("div");d.classList.add("tasks");const c=document.createElement("div");c.classList.add("task");const s=document.createElement("div");s.classList.add("task");const l=document.createElement("div");l.classList.add("task");const o=document.createElement("input");o.type="checkbox",o.id="task-1";const i=document.createElement("label");i.textContent="Make a to-do List Web App",i.for="task-1";const r=document.createElement("input");r.type="checkbox",r.id="task-2";const p=document.createElement("label");p.textContent="Make a restaurant page",p.for="task-2";const u=document.createElement("input");u.type="checkbox",u.id="task-3";const m=document.createElement("label");m.textContent="Make a sketching web app",m.for="task-3",c.appendChild(o),c.appendChild(i),s.appendChild(r),s.appendChild(p),l.appendChild(u),l.appendChild(m),d.appendChild(c),d.appendChild(s),d.appendChild(l),a.appendChild(d),e.appendChild(a);const h=document.createElement("div"),C=document.createElement("form");C.action="",C.setAttribute("data-new-task-form","");const E=document.createElement("input");E.type="text",E.setAttribute("data-new-task-input",""),E.classList.add("newlist"),E.placeholder="new list name",E.ariaLabel="new project name";const k=document.createElement("button");k.classList.add("btnlist"),k.textContent="+",k.ariaLabel="create new project",h.appendChild(C),C.appendChild(E),C.appendChild(k),e.appendChild(h);const b=document.createElement("div");b.classList.add("delete-stuff");const f=document.createElement("button"),L=document.createElement("button");return f.classList.add("delbut"),L.classList.add("delprojbut"),f.textContent="Clear Completed Tasks",L.textContent="Delete Project",b.appendChild(f),b.appendChild(L),e.appendChild(b),e}());const t=document.querySelector(".task-lists"),n=document.querySelector("[data-new-list-form]"),a=document.querySelector("[data-new-list-input]"),d=document.querySelector(".delprojbut"),c=document.querySelector(".todo-list"),s=document.querySelector(".list-titte"),l=document.querySelector(".tasks"),o=document.getElementById("task-template"),i=document.querySelector("[data-new-task-form]"),r=document.querySelector("[data-new-task-input]"),p="task.projects",u="task.selectedProjectId";let m=JSON.parse(localStorage.getItem(p))||[],h=localStorage.getItem(u);function C(){k(t),m.forEach((e=>{const n=document.createElement("li");n.classList.add("list-name"),n.dataset.listId=e.id,n.innerText=e.name,e.id===h&&n.classList.add("active-project"),t.appendChild(n)}));const e=m.find((e=>e.id===h));null==h?c.style.display="none":(c.style.display="",s.innerText=e.name,k(l),function(e){e.tasks.forEach((e=>{const t=document.importNode(o.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const a=t.querySelector("label");a.htmlFor=e.id,a.append(e.name),l.appendChild(t)}))}(e))}function E(){localStorage.setItem(p,JSON.stringify(m)),localStorage.setItem(u,h)}function k(e){for(;e.firstChild;)e.removeChild(e.firstChild)}n.addEventListener("submit",(e=>{e.preventDefault();const t=a.value;if(null==t||""===t)return;const n=(d=t,{id:Date.now().toString(),name:d,tasks:[]});var d;a.value=null,m.push(n),E(),C()})),i.addEventListener("submit",(e=>{e.preventDefault();const t=r.value;if(null==t||""===t)return;const n=(a=t,{id:Date.now().toString(),name:a,complete:!1});var a;r.value=null,m.find((e=>e.id===h)).tasks.push(n),E(),C()})),d.addEventListener("click",(e=>{m=m.filter((e=>e.id!==h)),h=null,console.log("oklol"),E(),C()})),t.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(h=e.target.dataset.listId,E(),C())})),C()}()})();