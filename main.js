(()=>{"use strict";!function(){const e=document.getElementById("content");e.appendChild(function(){const e=document.createElement("div");e.classList.add("sidebar");const t=document.createElement("h2");t.textContent="Projects";const n=document.createElement("ul");n.classList.add("task-lists");const a=document.createElement("form");a.action="",a.setAttribute("data-new-list-form",""),a.classList.add("sidebarForm");const d=document.createElement("input");d.type="text",d.setAttribute("data-new-list-input",""),d.classList.add("newlist"),d.placeholder="new list name",d.ariaLabel="new project name";const c=document.createElement("button");return c.classList.add("btnlist"),c.textContent="+",c.ariaLabel="create new project",a.appendChild(d),a.appendChild(c),e.appendChild(t),e.appendChild(n),e.appendChild(a),e}()),e.appendChild(function(){const e=document.createElement("div");e.classList.add("todo-list");const t=document.createElement("div");t.classList.add("todohead");const n=document.createElement("h2");n.classList.add("list-titte"),n.textContent="Sample 1",t.appendChild(n),e.appendChild(t);const a=document.createElement("div");a.classList.add("todo-body");const d=document.createElement("div");d.classList.add("tasks");const c=document.createElement("div");c.classList.add("task");const s=document.createElement("div");s.classList.add("task");const l=document.createElement("div");l.classList.add("task");const o=document.createElement("input");o.type="checkbox",o.id="task-1";const i=document.createElement("label");i.textContent="Make a to-do List Web App",i.for="task-1";const r=document.createElement("input");r.type="checkbox",r.id="task-2";const u=document.createElement("label");u.textContent="Make a restaurant page",u.for="task-2";const m=document.createElement("input");m.type="checkbox",m.id="task-3";const p=document.createElement("label");p.textContent="Make a sketching web app",p.for="task-3",c.appendChild(o),c.appendChild(i),s.appendChild(r),s.appendChild(u),l.appendChild(m),l.appendChild(p),d.appendChild(c),d.appendChild(s),d.appendChild(l),a.appendChild(d),e.appendChild(a);const h=document.createElement("div"),C=document.createElement("form");C.action="",C.setAttribute("data-new-task-form","");const k=document.createElement("input");k.type="text",k.setAttribute("data-new-task-input",""),k.classList.add("newlist"),k.placeholder="new list name",k.ariaLabel="new project name";const E=document.createElement("button");E.classList.add("btnlist"),E.textContent="+",E.ariaLabel="create new project",h.appendChild(C),C.appendChild(k),C.appendChild(E),e.appendChild(h);const f=document.createElement("div");f.classList.add("delete-stuff");const L=document.createElement("button"),b=document.createElement("button");return L.classList.add("delbut"),b.classList.add("delprojbut"),L.textContent="Clear Completed Tasks",b.textContent="Delete Project",f.appendChild(L),f.appendChild(b),e.appendChild(f),e}());const t=document.querySelector(".task-lists"),n=document.querySelector("[data-new-list-form]"),a=document.querySelector("[data-new-list-input]"),d=document.querySelector(".delprojbut"),c=document.querySelector(".todo-list"),s=document.querySelector(".list-titte"),l=document.querySelector(".tasks"),o=document.getElementById("task-template"),i=document.querySelector("[data-new-task-form]"),r=document.querySelector("[data-new-task-input]"),u=document.querySelector(".delbut"),m="task.projects",p="task.selectedProjectId";let h=JSON.parse(localStorage.getItem(m))||[],C=localStorage.getItem(p);function k(){f(t),h.forEach((e=>{const n=document.createElement("li");n.classList.add("list-name"),n.dataset.listId=e.id,n.innerText=e.name,e.id===C&&n.classList.add("active-project"),t.appendChild(n)}));const e=h.find((e=>e.id===C));null==C?c.style.display="none":(c.style.display="",s.innerText=e.name,f(l),function(e){e.tasks.forEach((e=>{const t=document.importNode(o.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const a=t.querySelector("label");a.htmlFor=e.id,a.append(e.name),l.appendChild(t)}))}(e))}function E(){localStorage.setItem(m,JSON.stringify(h)),localStorage.setItem(p,C)}function f(e){for(;e.firstChild;)e.removeChild(e.firstChild)}u.addEventListener("click",(e=>{const t=h.find((e=>e.id===C));t.tasks=t.tasks.filter((e=>!e.complete)),E(),k()})),n.addEventListener("submit",(e=>{e.preventDefault();const t=a.value;if(null==t||""===t)return;const n=(d=t,{id:Date.now().toString(),name:d,tasks:[]});var d;a.value=null,h.push(n),E(),k()})),i.addEventListener("submit",(e=>{e.preventDefault();const t=r.value;if(null==t||""===t)return;const n=(a=t,{id:Date.now().toString(),name:a,complete:!1});var a;r.value=null,h.find((e=>e.id===C)).tasks.push(n),E(),k()})),l.addEventListener("click",(e=>{"input"===e.target.tagName.toLowerCase()&&(h.find((e=>e.id===C)).tasks.find((t=>t.id===e.target.id)).complete=e.target.checked,E())})),d.addEventListener("click",(e=>{h=h.filter((e=>e.id!==C)),C=null,console.log("oklol"),E(),k()})),t.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(C=e.target.dataset.listId,E(),k())})),k()}()})();